{% extends 'admin_base.html' %}
{% load static %}
{% block content %}

<div class="container">
  <h2 class="mb-4"><i class="fas fa-edit"></i> Edit Student Info</h2>

  {% if messages %}
    {% for m in messages %}
      <div class="alert alert-{% if m.tags == 'error' %}danger{% elif m.tags == 'success' %}success{% else %}{{ m.tags }}{% endif %} alert-dismissible fade show" role="alert">
        {{ m }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endfor %}
  {% endif %}

  <form method="post">
    {% csrf_token %}

    <div class="mb-3">
      <label for="fullname" class="form-label">Full Name</label>
      <input type="text" class="form-control" id="fullname" name="fullname" required
             placeholder="Enter full name" value="{{ student_obj.name }}">
    </div>

    <div class="mb-3">
      <label for="rollid" class="form-label">Roll ID</label>
      <input type="text" class="form-control" id="rollid" name="rollid" required
             placeholder="Roll Number" maxlength="5" value="{{ student_obj.roll_id }}">
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email ID</label>
      <input type="email" class="form-control" id="email" name="email" required
             value="{{ student_obj.email }}">
    </div>

    <div class="mb-3">
      <label for="class" class="form-label">Class</label>
      <input type="text" class="form-control" id="class" name="class" readonly
             value="{{ student_obj.student_class.class_name }} {{ student_obj.student_class.section }}">
    </div>

    <div class="mb-3">
      <label for="dob" class="form-label">Date of Birth</label>
      <input type="date" class="form-control" id="dob" name="dob" required
             value="{{ student_obj.dob|date:'Y-m-d' }}">
    </div>

    <div class="mb-3">
      <label for="regdate" class="form-label">Reg. Date</label>
      <input type="date" class="form-control" id="regdate" name="regdate" readonly
             value="{{ student_obj.regdate|date:'Y-m-d' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Gender</label><br>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="gender_male" name="gender" value="Male"
          {% if student_obj.gender == "Male" %}checked{% endif %}>
        <label class="form-check-label" for="gender_male">Male</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="gender_female" name="gender" value="Female"
          {% if student_obj.gender == "Female" %}checked{% endif %}>
        <label class="form-check-label" for="gender_female">Female</label>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Status</label><br>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="status_active" name="status" value="1"
          {% if student_obj.status == 1 %}checked{% endif %}>
        <label class="form-check-label" for="status_active">Active</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="status_inactive" name="status" value="0"
          {% if student_obj.status == 0 %}checked{% endif %}>
        <label class="form-check-label" for="status_inactive">Inactive</label>
      </div>
    </div>

    <button type="submit" class="btn btn-success">
      <i class="fas fa-check-circle me-1"></i> Submit
    </button>
  </form>
</div>

{% endblock %}
